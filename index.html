<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VETA</title>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="home.css">
	<link rel="stylesheet" href="login.css">
    <script type="module" src="app.js" defer></script>
</head>

<style>
    body.dark-mode {
        background-color: #000;
        color: #fff;
    }

    body.light-mode {
        background-color: #fff;
        color: #000;
    }
</style>
<style>
/* CSS কোড এখানে পেস্ট করো */
.popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}
.popup-content {
    background: #fff;
    width: 90%;
    max-width: 400px;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    text-align: center;
    animation: fadeIn 0.3s ease-in-out;
}
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.popup-content h2 {
    color: #333;
    font-size: 1.8rem;
    margin-bottom: 15px;
    font-weight: bold;
}
.popup-content input[type="email"],
.popup-content input[type="password"],
.popup-content input[type="text"] {
    width: 100%;
    padding: 12px 15px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    color: #333;
}
.popup-content input:focus {
    border-color: #3f51b5;
    outline: none;
}
.modal-btn {
    background-color: #3f51b5;
    color: #fff;
    padding: 12px 20px;
    margin-top: 10px;
    border: none;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    width: 100%;
    font-weight: bold;
}
.modal-btn:hover {
    background-color: #303f9f;
}
.additional-buttons button {
    background: none;
    color: #3f51b5;
    border: none;
    font-size: 0.9rem;
    margin: 5px;
    cursor: pointer;
    text-decoration: underline;
}
.additional-buttons button:hover {
    color: #303f9f;
}
</style>

<body id="body">
    <!-- Header with Menu -->
<div class="header">
    <div class="menu-icon" onclick="openLeftMenu()"><i class="fas fa-bars"></i></div>
    <img src="image/logo.svg" alt="Logo" class="logo">
    <div class="title"><p id="fullNameDisplay"> VETA</p></div>
    <div class="header-icons">
        <span class="nine-dots"><i class="fas fa-th"></i></span> <!-- নাইন ডট আইকন -->
        <span class="notification"><i class="fas fa-bell"></i></span>
        <span class="search"><i class="fas fa-search"></i></span>
        <span class="three-dots" onclick="openRightMenu()"><i class="fas fa-ellipsis-v"></i></span>
    </div>
</div>
    
    <!-- Search Popup -->
    <div class="popup" id="searchPopup">
        <div class="popup-content">
            <span class="close-btn" onclick="closeSearchPopup()">&#10005;</span>
            <h2>Search</h2>
            <input 
                type="text" 
                placeholder="Search here..." 
                id="searchInput" 
                onkeyup="fetchSearchResults()" 
            />
            <ul id="searchResults">
                <!-- Search রেজাল্ট এখানে ডাইনামিক্যালি দেখানো হবে -->
            </ul>
        </div>
    </div>

    <!-- Notification Popup -->
    <div class="popup" id="notificationPopup">
        <div class="popup-content">
            <span class="close-btn" onclick="closeNotificationPopup()">&#10005;</span>
            <h2>Notifications</h2>
            <ul id="notificationList">
                <li><a href="#" class="notification-link">No new notifications.</a></li>
                <li><a href="#" class="notification-link">No new notifications.</a></li>
            </ul>
        </div>
    </div>

    
 <!-- Left Sidebar Menu -->
    <div class="sidebar left-sidebar" id="leftMenu">
        <button class="close-btn" onclick="closeLeftMenu()">&#10005;</button>
        <ul>
        	<a href="index.html" >
            <li><span class="icon"><i class="fas fa-home"></i></span> Home</li>
            </a>
            
            <a href="about.html" >
            <li><span class="icon"><i class="fas fa-user"></i></span> About</li>
               </a>
               
            <a href="services.html" >
            <li><span class="icon"><i class="fas fa-cogs"></i></span> Services</li>
               </a>
               
            <a href="contact.html" >
            <li><span class="icon"><i class="fas fa-phone-alt"></i></span> Contact</li>
            </a>
        </ul>
    </div>


    <!-- Right Sidebar Menu -->
    <div class="sidebar right-sidebar" id="rightMenu">
        <button class="close-btn" onclick="closeRightMenu()">&#10005;</button>
        <ul>
            <li onclick="openProfilePopup()"><span class="icon"><i class="fas fa-user"></i></span> Profile</li>
            <li onclick="openSettingsPopup()"><span class="icon"><i class="fas fa-cogs"></i></span> Settings</li>
            <li><span class="icon"><i class="fas fa-bell"></i></span> Notifications</li>
            <li onclick="openLoginPopup()"><span class="icon"><i class="fa fa-sign-in"></i></span> Login</li>
            <li onclick="logoutUser()"><span class="icon"><i class="fas fa-sign-out-alt"></i></span> Logout</li>
        </ul>
    </div>
    
    
        <!-- Login Popup -->
<div class="popup" id="loginPopup">
    <div class="popup-content">
        
        <h2>Login</h2>
         <form id="loginForm">
                <input type="email" id="loginEmail" name="loginEmail" placeholder="Email ID" required>
                <input type="password" id="loginPassword" name="loginPassword" placeholder="Password" required>
                <button type="submit" class="modal-btn">Login</button>
            </form>
        
        <!-- Additional Buttons -->
        <div class="additional-buttons">
            <button class="forgot-btn" onclick="openForgotPasswordPopup()">Forgot Password</button>
            <button class="register-btn" onclick="openRegistrationPopup()">Register</button>
        </div>
    </div>
</div>

<!-- Forgot Password Popup -->
<div class="popup" id="forgotPasswordPopup">
    <div class="popup-content">
        
        <h2>Forgot Password</h2>
        <form id="forgotPasswordForm">
                <input type="email" id="forgotEmail" name="forgotEmail" placeholder="Enter your email ID" required>
                <button type="submit" class="modal-btn">Reset Password</button>
            </form>
            <li onclick="openLoginPopup()"><span class="icon"><i class="fa fa-sign-in"></i></span> Login</li>
    </div>
</div>

<!-- Registration Popup -->
<div class="popup" id="registrationPopup">
    <div class="popup-content">
      
        <h2>Register</h2>
         <h4>Verify,By Clicking The Link Sent To The Email</h4>
            <form id="signUpForm">
                <input type="text" id="fullName" name="fullName" placeholder="Full Name" required>
                <input type="email" id="email" name="email" placeholder="Email ID" required>
                <input type="text" id="phoneNumber" name="phoneNumber" placeholder="Phone Number" required>
                <input type="password" id="newPassword" name="newPassword" placeholder="Password" required>
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required>
                <button type="submit" class="modal-btn">Submit</button>
            </form>
            <li onclick="openLoginPopup()"><span class="icon"><i class="fa fa-sign-in"></i></span> Login</li>
    </div>
</div>


    <!-- Profile Popup -->
<div class="popup" id="profilePopup">
    <div class="popup-content">
        <span class="close-btn" onclick="closeProfilePopup()">&#10005;</span>
        <h1><p class="fullNameDisplay" id="fullNameDisplay">VETA</p></h1>
        <div class="logo-container" id="logoContainer">
            <img src="image/logo.svg" alt="Profile Logo" id="profileLogo">
        </div>
        <div class="user-info">
            <p id="userUIDDisplay">UID: Loading...</p>
            <p id="userEmail">Email: Loading...</p>
            <p id="phoneNumberDisplay">Phone: Loading...</p>
        </div>
        <button class="update-form-btn" onclick="openUpdateForm()">Open Update Form</button>
        
        <div id="ledgerData" style="display: none;">
    <h2>Ledger Data</h2>
    <p>এই ডাটা শুধুমাত্র লগইন অবস্থায় দেখা যাবে।</p>
</div>

    </div>
</div>

    <!-- Settings Popup for Dark/Light Mode -->
    <div class="popup" id="settingsPopup">
        <div class="popup-content">
            <span class="close-btn" onclick="closeSettingsPopup()">&#10005;</span>
            <h2>Settings</h2>
            <div class="theme-toggle">
                <button id="themeToggle" onclick="toggleTheme()">Switch to Dark Mode</button>
            </div>
        </div>
    </div>

    



    
<iframe src="home/body/body.html" width="100%" height="1800px" style="border: 1px solid #000; margin-top: 40px;"></iframe>
    
    


    
    <!-- Footer Header -->
<footer class="bottom-header">
  <nav class="icon-nav">
    <a href="#home" class="icon-item"><i class="fas fa-home"></i></a>
    <a href="#search" class="icon-item"><i class="fas fa-search"></i></a>
    <a href="#add" class="icon-item"><i class="fas fa-plus-circle"></i></a>
    <a href="#profile" class="icon-item"><i class="fas fa-user"></i></a>
    <a href="#settings" class="icon-item"><i class="fas fa-cog"></i></a>
  </nav>
</footer>

    
    <!-- JavaScript -->
    <script src="style.js"></script>
    <script type="module" src="home.js"></script>
    <script>
        // Dark mode toggle logic
        let isDarkMode = false;

        function toggleTheme() {
            const body = document.getElementById("body");
            const button = document.getElementById("themeToggle");

            if (isDarkMode) {
                body.classList.remove("dark-mode");
                body.classList.add("light-mode");
                button.textContent = "Switch to Dark Mode";
            } else {
                body.classList.remove("light-mode");
                body.classList.add("dark-mode");
                button.textContent = "Switch to Light Mode";
            }
            isDarkMode = !isDarkMode;
        }



function toggleTheme() {
    const body = document.getElementById("body");
    const button = document.getElementById("themeToggle");
    const iframe = document.querySelector("iframe");

    if (isDarkMode) {
        body.classList.remove("dark-mode");
        body.classList.add("light-mode");
        button.textContent = "Switch to Dark Mode";

        // Iframe এর ডার্ক মোড বন্ধ করা
        if (iframe.contentDocument) {
            iframe.contentDocument.body.classList.remove("dark-mode");
            iframe.contentDocument.body.classList.add("light-mode");
        }
    } else {
        body.classList.remove("light-mode");
        body.classList.add("dark-mode");
        button.textContent = "Switch to Light Mode";

        // Iframe এর ডার্ক মোড চালু করা
        if (iframe.contentDocument) {
            iframe.contentDocument.body.classList.remove("light-mode");
            iframe.contentDocument.body.classList.add("dark-mode");
        }
    }
    isDarkMode = !isDarkMode;
}






// লগআউট ফাংশন
function logoutUser() {
    // লোকাল স্টোরেজ বা সেশন ডেটা মুছে ফেলা
    localStorage.removeItem("userToken"); // লগইন টোকেন মুছে ফেলা
    localStorage.removeItem("userData"); // ইউজারের ডাটা মুছে ফেলা

    // প্রোফাইল এবং অন্যান্য ইউজার ডাটা সাফ করা
    document.getElementById("fullNameDisplay").textContent = "Loading...";
    document.getElementById("userUIDDisplay").textContent = "UID: Loading...";
    document.getElementById("userEmail").textContent = "Email: Loading...";
    document.getElementById("phoneNumberDisplay").textContent = "Phone: Loading...";

    // লেজারের ডাটা লুকানো
    document.getElementById("ledgerData").style.display = "none";

    // লগইন পপআপ দেখানো
    openLoginPopup();

    // সাফল্যের বার্তা প্রদর্শন
    alert("You have been logged out successfully!");
}

// প্রোফাইল ডাটা লোড ফাংশন
function loadProfileData() {
    const userToken = localStorage.getItem("userToken");
    if (userToken) {
        // ইউজার টোকেন থাকলে প্রোফাইল ডাটা দেখাও
        const userData = JSON.parse(localStorage.getItem("userData"));
        document.getElementById("fullNameDisplay").textContent = userData.fullName || "N/A";
        document.getElementById("userUIDDisplay").textContent = `UID: ${userData.uid || "N/A"}`;
        document.getElementById("userEmail").textContent = `Email: ${userData.email || "N/A"}`;
        document.getElementById("phoneNumberDisplay").textContent = `Phone: ${userData.phone || "N/A"}`;
    } else {
        // টোকেন না থাকলে পপআপ দেখাও এবং ডিফল্ট ডাটা সেট করো
        document.getElementById("fullNameDisplay").textContent = "Loading...";
        document.getElementById("userUIDDisplay").textContent = "UID: Loading...";
        document.getElementById("userEmail").textContent = "Email: Loading...";
        document.getElementById("phoneNumberDisplay").textContent = "Phone: Loading...";
        openLoginPopup(); // পপআপ চালু করো
    }
}

// পপআপ চালু করার ফাংশন
function openLoginPopup() {
    const popup = document.getElementById("loginPopup");
    if (popup) {
        popup.style.display = "block"; // পপআপ দেখাও
    }
}

// পপআপ বন্ধ করার ফাংশন
function closeLoginPopup() {
    const popup = document.getElementById("loginPopup");
    if (popup) {
        popup.style.display = "none"; // পপআপ বন্ধ করো
    }
}

// পেজ লোড হলে প্রোফাইল ডাটা চেক করো
window.onload = function () {
    loadProfileData();
};
    
    </script>
</body>
</html>

